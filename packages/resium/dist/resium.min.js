!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("cesium")):"function"==typeof define&&define.amd?define(["exports","react","cesium"],t):t(e.Resium={},e.React,e.Cesium)}(this,function(e,t,n){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var r="default"in n?n.default:n,o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},u=1/0,s=9007199254740991,p="[object Arguments]",l="[object Function]",m="[object GeneratorFunction]",d="[object Symbol]",f="object"==typeof c&&c&&c.Object===Object&&c,h="object"==typeof self&&self&&self.Object===Object&&self,v=f||h||Function("return this")();function y(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var g=Object.prototype,S=g.hasOwnProperty,E=g.toString,C=v.Symbol,b=g.propertyIsEnumerable,P=C?C.isConcatSpreadable:void 0,_=Math.max;function w(e){return O(e)||function(e){return function(e){return k(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?E.call(e):"";return t==l||t==m}(e)}(e)}(e)&&S.call(e,"callee")&&(!b.call(e,"callee")||E.call(e)==p)}(e)||!!(P&&e&&e[P])}function T(e){if("string"==typeof e||function(e){return"symbol"==typeof e||k(e)&&E.call(e)==d}(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}var O=Array.isArray;function k(e){return!!e&&"object"==typeof e}var D,M,L,j=(D=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],c=e[a];n(c,a)&&(i[a]=c)}return i}(e=Object(e),t,function(t,n){return n in e})}(e,function(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(function e(t,n,r,o,i){var a=-1,c=t.length;for(r||(r=w),i||(i=[]);++a<c;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):y(i,u):o||(i[i.length]=u)}return i}(t,1),T))},M=_(void 0===M?D.length-1:M,0),function(){for(var e=arguments,t=-1,n=_(e.length-M,0),r=Array(n);++t<n;)r[t]=e[M+t];t=-1;for(var o=Array(M+1);++t<M;)o[t]=e[t];return o[M]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(D,this,o)}),R=(L=t.createContext({})).Provider,x=L.Consumer,U=function(e){return t.forwardRef(function(n,r){return t.createElement(x,null,function(o){return t.createElement(e,a({},Object.assign({},n,{ref:r}),{cesium:o}))})})},A=function(e,t){Object.entries(t).forEach(function(t){var r=t[0],o=t[1],i=e[r];i instanceof n.Event&&o&&i.addEventListener(o)})},F=function(e,t){Object.entries(t).forEach(function(t){var r=t[0],o=t[1],i=e[r];i instanceof n.Event&&o&&i.removeEventListener(o)})},I=function(e,t,n){var r=Object.keys(t),o=Object.keys(n),i=r.map(function(e){return[e,t[e]]}).reduce(function(e,t){var r=t[0],i=t[1];return-1!==o.indexOf(r)&&i===n[r]||(e[r]=i),e},{}),a=o.map(function(e){return[e,n[e]]}).reduce(function(e,n){var o=n[0],i=n[1];return-1!==r.indexOf(o)&&i===t[o]||(e[o]=i),e},{});F(e,i),A(e,a)},H=function(e){var n=function(n){function r(r){var o=n.call(this,r)||this;return o.mounted=!1,e.createRef&&(o.ref=t.createRef()),e.createRef||o.create(r),o}return i(r,n),r.getCesiumEventMap=function(t){return e.cesiumEventProps?Object.entries(e.cesiumEventProps).reduce(function(e,n){var r,o=n[0],i=n[1];return a({},e,i?((r={})[o]=t[i],r):{})},{}):{}},r.getCesiumProps=function(t){return j(t,e.cesiumProps||[])},r.getCesiumReadOnlyProps=function(t){return j(t,e.cesiumReadonlyProps||[])},r.shouldUpdate=function(e,t){return Object.keys(e).some(function(n){return e[n]!==t[n]})},Object.defineProperty(r.prototype,"cesiumElement",{get:function(){return this._ce},enumerable:!0,configurable:!0}),r.prototype.render=function(){if(e.noRender)return null;var n=e.render?e.render(this._ce,this.props,this.mounted,this.ref):this.props.children||null;return e.render||this.mounted?e.provide?t.createElement(R,{value:Object.assign({},this.props.cesium,this._ce?e.provide(this._ce,this.props):{})},n):n:null},r.prototype.componentDidMount=function(){e.createRef&&this.create(),this.mount(),this.mounted=!0,this.forceUpdate()},r.prototype.componentDidUpdate=function(e){r.shouldUpdate(r.getCesiumReadOnlyProps(this.props),r.getCesiumReadOnlyProps(e))?this.remount():this.update(e)},r.prototype.componentWillUnmount=function(){this.unmount(),this._ce=void 0},r.prototype.create=function(t){var n=this;void 0===t&&(t=this.props);var o=j(t,(e.cesiumProps||[]).concat(e.cesiumReadonlyProps||[]));this._ce=e.create(o,t,this.props.cesium,this.ref),e.setCesiumPropsAfterCreate&&this._ce&&Object.entries(r.getCesiumProps(this.props)).forEach(function(e){var t=e[0],r=e[1];n._ce&&(n._ce[t]=r)}),A(this._ce,r.getCesiumEventMap(this.props))},r.prototype.mount=function(){e.mount&&this._ce&&e.mount(this._ce,this.props.cesium,this.props,this.ref)},r.prototype.unmount=function(){e.unmount&&this._ce&&e.unmount(this._ce,this.props.cesium,this.props,this.ref),this._ce&&F(this._ce,r.getCesiumEventMap(this.props)),this._ce=void 0},r.prototype.update=function(t){var n=this;Object.entries(r.getCesiumProps(this.props)).filter(function(e){var n=e[0],r=e[1];return t[n]!==r}).forEach(function(e){var t=e[0],r=e[1];n._ce&&(n._ce[t]=r)}),I(this._ce,r.getCesiumEventMap(t),r.getCesiumEventMap(this.props)),e.update&&this._ce&&e.update(this._ce,this.props,t,this.props.cesium)},r.prototype.remount=function(){this.unmount(),this.create(void 0),this.mount()},r.displayName=e.name,r}(t.PureComponent);return U(n)},W=function(e){var n;return U(((n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.componentDidMount=function(){e.cameraOperationStart(this.props.cesium.camera,this.props)},n.prototype.componentDidUpdate=function(t){this.props.cesium.camera.cancelFlight(),e.cameraOperationStart(this.props.cesium.camera,this.props,t)},n.prototype.componentWillUnmount=function(){this.props.cancelCameraFlight&&this.props.cesium.camera.cancelFlight()},n.prototype.render=function(){return null},n}(t.PureComponent)).displayName=name,n))},G=200,V="__lodash_hash_undefined__",B=1/0,N=9007199254740991,z="[object Arguments]",$="[object Function]",K="[object GeneratorFunction]",q="[object Symbol]",Z=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,Q="object"==typeof c&&c&&c.Object===Object&&c,X="object"==typeof self&&self&&self.Object===Object&&self,Y=Q||X||Function("return this")();function ee(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var o=e.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,oe,n);var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function te(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function ne(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function re(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function oe(e){return e!=e}function ie(e,t){return e.has(t)}function ae(e,t){return function(n){return e(t(n))}}var ce,ue=Array.prototype,se=Function.prototype,pe=Object.prototype,le=Y["__core-js_shared__"],me=(ce=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||""))?"Symbol(src)_1."+ce:"",de=se.toString,fe=pe.hasOwnProperty,he=pe.toString,ve=RegExp("^"+de.call(fe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=Y.Symbol,ge=ae(Object.getPrototypeOf,Object),Se=pe.propertyIsEnumerable,Ee=ue.splice,Ce=ye?ye.isConcatSpreadable:void 0,be=Object.getOwnPropertySymbols,Pe=Math.max,_e=Ae(Y,"Map"),we=Ae(Object,"create");function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function De(e){var t=-1,n=e?e.length:0;for(this.__data__=new ke;++t<n;)this.add(e[t])}function Me(e,t){var n=Be(e)||Ve(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!fe.call(e,i)||o&&("length"==i||We(i,r))||n.push(i);return n}function Le(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function je(e){return!(!$e(e)||(t=e,me&&me in t))&&(ze(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?ve:Z).test(function(e){if(null!=e){try{return de.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function Re(e){if(!$e(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n,r,o=(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||pe,t===r),i=[];for(var a in e)("constructor"!=a||!o&&fe.call(e,a))&&i.push(a);return i}function xe(e){return function(e,t,n){var r=t(e);return Be(e)?r:re(r,n(e))}(e,qe,Ie)}function Ue(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ae(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return je(n)?n:void 0}Te.prototype.clear=function(){this.__data__=we?we(null):{}},Te.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Te.prototype.get=function(e){var t=this.__data__;if(we){var n=t[e];return n===V?void 0:n}return fe.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return we?void 0!==t[e]:fe.call(t,e)},Te.prototype.set=function(e,t){return this.__data__[e]=we&&void 0===t?V:t,this},Oe.prototype.clear=function(){this.__data__=[]},Oe.prototype.delete=function(e){var t=this.__data__,n=Le(t,e);return!(n<0||(n==t.length-1?t.pop():Ee.call(t,n,1),0))},Oe.prototype.get=function(e){var t=this.__data__,n=Le(t,e);return n<0?void 0:t[n][1]},Oe.prototype.has=function(e){return Le(this.__data__,e)>-1},Oe.prototype.set=function(e,t){var n=this.__data__,r=Le(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ke.prototype.clear=function(){this.__data__={hash:new Te,map:new(_e||Oe),string:new Te}},ke.prototype.delete=function(e){return Ue(this,e).delete(e)},ke.prototype.get=function(e){return Ue(this,e).get(e)},ke.prototype.has=function(e){return Ue(this,e).has(e)},ke.prototype.set=function(e,t){return Ue(this,e).set(e,t),this},De.prototype.add=De.prototype.push=function(e){return this.__data__.set(e,V),this},De.prototype.has=function(e){return this.__data__.has(e)};var Fe=be?ae(be,Object):Ze,Ie=be?function(e){for(var t=[];e;)re(t,Fe(e)),e=ge(e);return t}:Ze;function He(e){return Be(e)||Ve(e)||!!(Ce&&e&&e[Ce])}function We(e,t){return!!(t=null==t?N:t)&&("number"==typeof e||J.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e){if("string"==typeof e||function(e){return"symbol"==typeof e||Ke(e)&&he.call(e)==q}(e))return e;var t=e+"";return"0"==t&&1/e==-B?"-0":t}function Ve(e){return function(e){return Ke(e)&&Ne(e)}(e)&&fe.call(e,"callee")&&(!Se.call(e,"callee")||he.call(e)==z)}var Be=Array.isArray;function Ne(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=N}(e.length)&&!ze(e)}function ze(e){var t=$e(e)?he.call(e):"";return t==$||t==K}function $e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ke(e){return!!e&&"object"==typeof e}function qe(e){return Ne(e)?Me(e,!0):Re(e)}function Ze(){return[]}var Je=function(e,t){return t=Pe(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=Pe(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(function(e,t){return null==e?{}:(t=ne(function e(t,n,r,o,i){var a=-1,c=t.length;for(r||(r=He),i||(i=[]);++a<c;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):re(i,u):o||(i[i.length]=u)}return i}(t,1),Ge),function(e,t){return function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],c=e[a];n(c,a)&&(i[a]=c)}return i}(e=Object(e),t,function(t,n){return n in e})}(e,function(e,t,n,r){var o,i=-1,a=ee,c=!0,u=e.length,s=[],p=t.length;if(!u)return s;n&&(t=ne(t,(o=n,function(e){return o(e)}))),r?(a=te,c=!1):t.length>=G&&(a=ie,c=!1,t=new De(t));e:for(;++i<u;){var l=e[i],m=n?n(l):l;if(l=r||0!==l?l:0,c&&m==m){for(var d=p;d--;)if(t[d]===m)continue e;s.push(l)}else a(t,m,r)||s.push(l)}return s}(xe(e),t)))}),Qe=function(e){var r;return U(((r=function(r){function o(){var e=null!==r&&r.apply(this,arguments)||this;return e.ref=t.createRef(),e.hovering=!1,e.checkHovering=function(t){if(e.ref.current&&e.ref.current.cesiumElement){var n=e.ref.current.cesiumElement,r=e.props.cesium.scene,o=t.endPosition?r.pick(t.endPosition):void 0,i=e.hovering,a=!!o&&!!o.id&&o.id===n;e.hovering=a,i!==a&&(a?e.props.onMouseEnter&&e.props.onMouseEnter(t,n):e.props.onMouseLeave&&e.props.onMouseLeave(t,n))}},e}return i(o,r),o.prototype.render=function(){var n=Je(this.props,o.events.map(function(e){return e.prop}));return t.createElement(e,a({ref:this.ref},n))},o.prototype.componentDidMount=function(){var e=this;this.sseh2=new n.ScreenSpaceEventHandler(this.props.cesium.cesiumWidget.canvas),(this.props.onMouseEnter||this.props.onMouseLeave)&&this.sseh2.setInputAction(this.checkHovering,n.ScreenSpaceEventType.MOUSE_MOVE),this.sseh=new n.ScreenSpaceEventHandler(this.props.cesium.cesiumWidget.canvas),o.events.forEach(function(t){var n=e.props[t.prop];if(e.sseh&&n){var r=e.createEvent(n);e.sseh.setInputAction(r,t.type)}})},o.prototype.componentDidUpdate=function(e){var t=this;o.events.forEach(function(n){var r=t.props[n.prop];if(t.sseh&&e[n.prop]&&e[n.prop]!==r&&!r&&t.sseh.removeInputAction(n.type),t.sseh&&r&&e[n.prop]!==r){var o=t.createEvent(r);t.sseh.setInputAction(o,n.type)}}),!this.sseh2||e.onMouseEnter===this.props.onMouseEnter&&e.onMouseLeave===this.props.onMouseLeave||(this.props.onMouseEnter||this.props.onMouseLeave?!this.props.onMouseEnter&&!this.props.onMouseLeave||e.onMouseEnter||e.onMouseLeave||this.sseh2.setInputAction(this.checkHovering,n.ScreenSpaceEventType.MOUSE_MOVE):this.sseh2.removeInputAction(n.ScreenSpaceEventType.MOUSE_MOVE))},o.prototype.componentWillUnmount=function(){this.sseh&&!this.sseh.isDestroyed&&this.sseh.destroy(),this.sseh2&&!this.sseh2.isDestroyed&&this.sseh2.destroy()},o.prototype.createEvent=function(e){if(this.ref.current&&this.ref.current.cesiumElement){var t=this.ref.current.cesiumElement,n=this.props.cesium.scene;return function(r){var o=r.position?n.pick(r.position):void 0;o&&o.id&&o.id===t&&e(r,t)}}},o}(t.PureComponent)).events=[{prop:"onClick",type:n.ScreenSpaceEventType.LEFT_CLICK},{prop:"onDoubleClick",type:n.ScreenSpaceEventType.LEFT_DOUBLE_CLICK},{prop:"onMouseDown",type:n.ScreenSpaceEventType.LEFT_DOWN},{prop:"onMouseUp",type:n.ScreenSpaceEventType.LEFT_UP},{prop:"onMiddleClick",type:n.ScreenSpaceEventType.MIDDLE_CLICK},{prop:"onMiddleDown",type:n.ScreenSpaceEventType.MIDDLE_DOWN},{prop:"onMiddleUp",type:n.ScreenSpaceEventType.MIDDLE_UP},{prop:"onMouseMove",type:n.ScreenSpaceEventType.MOUSE_MOVE},{prop:"onPinchEnd",type:n.ScreenSpaceEventType.PINCH_END},{prop:"onPinchMove",type:n.ScreenSpaceEventType.PINCH_MOVE},{prop:"onPinchStart",type:n.ScreenSpaceEventType.PINCH_START},{prop:"onRightClick",type:n.ScreenSpaceEventType.RIGHT_CLICK},{prop:"onRightDown",type:n.ScreenSpaceEventType.RIGHT_DOWN},{prop:"onRightUp",type:n.ScreenSpaceEventType.RIGHT_UP},{prop:"onWheel",type:n.ScreenSpaceEventType.WHEEL}],r))},Xe=H({name:"Viewer",createRef:!0,create:function(e,t,r,o){var i=new n.Viewer(o.current,e);if(i)return t.extend&&(Array.isArray(t.extend)?t.extend.forEach(function(e){i.extend(e,{})}):i.extend(t.extend,{})),i},render:function(e,n,r,o){return t.createElement("div",a({className:n.className,id:n.id,ref:o,style:a({},n.full?{position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}:{},n.style)},n.containerProps),e?n.children:null)},unmount:function(e){e&&!e.isDestroyed&&e.destroy()},provide:function(e){return e?{viewer:e,cesiumWidget:e.cesiumWidget,dataSourceCollection:e.dataSources,entityCollection:e.entities,scene:e.scene,camera:e.scene.camera,imageryLayerCollection:e.scene.globe.imageryLayers,primitiveCollection:e.scene.primitives}:{}},cesiumProps:["terrainProvider","terrainShadows","clockTrackedDataSource","targetFrameRate","useDefaultRenderLoop","resolutionScale","allowDataSourcesToSuspendAnimation","trackedEntity","selectedEntity","shadows"],cesiumReadonlyProps:["animation","baseLayerPicker","fullscreenButton","vrButton","geocoder","homeButton","infoBox","sceneModePicker","selectionIndicator","timeline","navigationHelpButton","navigationInstructionsInitiallyVisible","scene3DOnly","shouldAnimate","clockViewModel","selectedImageryProviderViewModel","imageryProviderViewModels","selectedTerrainProviderViewModel","terrainProviderViewModels","imageryProvider","skyBox","skyAtmosphere","fullscreenElement","showRenderLoopErrors","automaticallyTrackDataSourceClocks","contextOptions","sceneMode","mapProjection","globe","orderIndependentTranslucency","creditContainer","creditViewport","dataSources","terrainExaggeration","mapMode2D","projectionPicker","requestRenderMode","maximumRenderTimeChange"],cesiumEventProps:{selectedEntityChanged:"onSelectedEntityChange",trackedEntityChanged:"onTrackedEntityChange"}}),Ye=H({name:"Viewer",createRef:!0,create:function(e,t,r,o){var i=new n.CesiumWidget(o.current,e);if(i)return"number"==typeof t.resolutionScale&&(i.resolutionScale=t.resolutionScale),i},render:function(e,n,r,o){return t.createElement("div",a({className:n.className,id:n.id,ref:o,style:a({},n.full?{position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}:{},n.style)},n.containerProps),e?n.children:null)},unmount:function(e){e&&!e.isDestroyed&&e.destroy()},provide:function(e){return e?{cesiumWidget:e,scene:e.scene,camera:e.scene.camera,imageryLayerCollection:e.scene.globe.imageryLayers,primitiveCollection:e.scene.primitives}:{}},cesiumProps:["resolutionScale","useDefaultRenderLoop","targetFrameRate"],cesiumReadonlyProps:["clock","imageryProvider","terrainProvider","skyBox","skyAtmosphere","sceneMode","scene3DOnly","orderIndependentTranslucency","mapProjection","globe","showRenderLoopErrors","contextOptions","creditContainer","creditViewport","terrainExaggeration","shadows","terrainShadows","requestRenderMode","maximumRenderTimeChange"]}),et=function(e,t,r){switch(t){case n.SceneMode.SCENE2D:e.morphTo2D(r);break;case n.SceneMode.COLUMBUS_VIEW:e.morphToColumbusView(r);break;case n.SceneMode.SCENE3D:e.morphTo3D(r)}},tt=H({name:"Scene",create:function(e,t,n){var r=n.scene;return t.mode&&et(r,t.mode,t.morph),r},update:function(e,t,n){t.mode!==n.mode&&t.mode&&et(e,t.mode,t.morph)},cesiumProps:["backgroundColor","completeMorphOnUserInput","debugCommandFilter","debugShowCommands","debugShowDepthFrustum","debugShowFramesPerSecond","debugShowFrustumPlanes","debugShowFrustums","eyeSeparation","farToNearRatio","focalLength","fog","fxaa","globe","imagerySplitPosition","invertClassification","invertClassificationColor","logarithmicDepthBuffer","logarithmicDepthFarToNearRatio","mapMode2D","maximumRenderTimeChange","minimumDisableDepthTestDistance","moon","morphTime","nearToFarDistance2D","pickTranslucentDepth","requestRenderMode","rethrowRenderErrors","shadowMap","skyAtmosphere","skyBox","sun","sunBloom","terrainExaggeration","terrainProvider","useDepthPicking","useWebVR"],cesiumEventProps:{morphComplete:"onMorphComplete",morphStart:"onMorphStart",postRender:"onPostRender",preRender:"onPreRender",preUpdate:"onPreUpdate",renderError:"onRenderError",terrainProviderChanged:"onTerrainProviderChange"},setCesiumPropsAfterCreate:!0}),nt=H({name:"camera",create:function(e,t,n){return n.scene.camera},cesiumProps:["position","direction","up","right","frustum","defaultMoveAmount","defaultLookAmount","defaultRotateAmount","defaultZoomAmount","constrainedAxis","maximumTranslateFactor","maximumZoomFactor"],cesiumEventProps:{changed:"onChange",moveEnd:"onMoveEnd",moveStart:"onMoveStart"},setCesiumPropsAfterCreate:!0}),rt=H({name:"Entity",create:function(e){return new n.Entity(e)},mount:function(e,t){t.entityCollection.add(e)},unmount:function(e,t){t.entityCollection.remove(e)},provide:function(e){return{entity:e}},cesiumProps:["availability","billboard","box","corridor","cylinder","description","ellipse","ellipsoid","entityCollection","label","model","name","orientation","parent","path","plane","point","polygon","polyline","polylineVolume","position","properties","rectangle","show","viewFrom","wall"],cesiumReadonlyProps:["id"],cesiumEventProps:{definitionChanged:"onDefinitionChange"}}),ot=require("react-dom/server.browser").renderToStaticMarkup,it=function(e){function t(t){var n=e.call(this,t)||this;return n.update(t),n}return i(t,e),t.prototype.componentDidMount=function(){this.update()},t.prototype.componentDidUpdate=function(e){this.props.children!==e.children&&this.update()},t.prototype.render=function(){return null},t.prototype.update=function(e){void 0===e&&(e=this.props),e.cesium&&e.cesium.entity&&e.children&&(e.cesium.entity.description=new n.ConstantProperty(ot(e.children)))},t}(t.PureComponent),at=U(it),ct=Qe(rt),ut=H({name:"CustomDataSource",create:function(e){var t=new r.CustomDataSource(e.name);return e.clustering&&(t.clustering=e.clustering),"boolean"==typeof e.show&&(t.show=e.show),t},mount:function(e,t){t.dataSourceCollection.add(e)},unmount:function(e,t){t.dataSourceCollection.remove(e)},provide:function(e){return{entityCollection:e.entities}},cesiumProps:["clustering","name","show"],cesiumEventProps:{changedEvent:"onChange",errorEvent:"onError",loadingEvent:"onLoading"}}),st=function(e){var t=e.element,n=e.data,r=e.onLoad,o=e.sourceUri;t.load(n,{sourceUri:o}).then(function(e){if(r)try{r(e)}catch(e){throw e}})},pt=H({name:"CzmlDataSource",create:function(e,t){var n=new r.CzmlDataSource(t.name);return e.clustering&&(n.clustering=e.clustering),"boolean"==typeof e.show&&(n.show=e.show),n},mount:function(e,t,n){t.dataSourceCollection.add(e),n.data&&st({element:e,dataSources:t.dataSourceCollection,data:n.data,onLoad:n.onLoad,sourceUri:n.sourceUri})},update:function(e,t,n,r){n.show===t.show&&t.data||(e.show=!!t.data&&("boolean"!=typeof t.show||t.show)),!t.data||n.data===t.data&&n.sourceUri===t.sourceUri||st({element:e,dataSources:r.dataSourceCollection,data:t.data,onLoad:t.onLoad,sourceUri:t.sourceUri})},unmount:function(e,t){t.dataSourceCollection.remove(e)},cesiumProps:["clustering"],cesiumReadonlyProps:["name"],cesiumEventProps:{changedEvent:"onChange",errorEvent:"onError",loadingEvent:"onLoading"}}),lt=function(e){var t=e.element,n=e.data,r=e.onLoad,o=e.clampToGround,i=e.sourceUri,a=e.markerSize,c=e.markerSymbol,u=e.markerColor,s=e.stroke,p=e.strokeWidth,l=e.fill;t.load(n,{clampToGround:o,markerSize:a,markerSymbol:c,markerColor:u,stroke:s,strokeWidth:p,fill:l,sourceUri:i}).then(function(e){if(r)try{r(e)}catch(e){throw e}})},mt=H({name:"GeoJsonDataSource",create:function(e,t,n){var o=new r.GeoJsonDataSource(t.name);return e.clustering&&(o.clustering=e.clustering),"boolean"==typeof e.show&&(o.show=e.show),o},mount:function(e,t,n){t.dataSourceCollection.add(e),n.data&&lt({element:e,dataSources:t.dataSourceCollection,data:n.data,onLoad:n.onLoad,clampToGround:n.clampToGround,sourceUri:n.sourceUri,markerSize:n.markerSize,markerSymbol:n.markerSymbol,markerColor:n.markerColor,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill})},update:function(e,t,n,r){n.show===t.show&&t.data||(e.show=!!t.data&&("boolean"!=typeof t.show||t.show)),!t.data||n.data===t.data&&n.clampToGround===t.clampToGround&&n.sourceUri===t.sourceUri&&n.markerSize===t.markerSize&&n.markerSymbol===t.markerSymbol&&n.markerColor===t.markerColor&&n.stroke===t.stroke&&n.strokeWidth===t.strokeWidth&&n.fill===t.fill||lt({element:e,dataSources:r.dataSourceCollection,data:t.data,onLoad:t.onLoad,clampToGround:t.clampToGround,sourceUri:t.sourceUri,markerSize:t.markerSize,markerSymbol:t.markerSymbol,markerColor:t.markerColor,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill})},unmount:function(e,t){t.dataSourceCollection.remove(e)},cesiumProps:["clustering","name"],cesiumEventProps:{changedEvent:"onChange",errorEvent:"onError",loadingEvent:"onLoading"}}),dt=function(e){var t=e.element,n=e.data,r=e.onLoad,o=e.clampToGround,i=e.ellipsoid,a=e.sourceUri;t.load(n,{clampToGround:o,ellipsoid:i,sourceUri:a}).then(function(e){if(r)try{r(e)}catch(e){throw e}})},ft=H({name:"KmlDataSource",create:function(e,t,n){var o=new r.KmlDataSource({camera:e.camera||n.scene.camera,canvas:e.canvas||n.scene.canvas,ellipsoid:e.ellipsoid});return e.clustering&&(o.clustering=e.clustering),"boolean"==typeof e.show&&(o.show=e.show),o},mount:function(e,t,n){t.dataSourceCollection.add(e),n.data&&dt({element:e,dataSources:t.dataSourceCollection,data:n.data,onLoad:n.onLoad,clampToGround:n.clampToGround,ellipsoid:n.ellipsoid,sourceUri:n.sourceUri})},update:function(e,t,n,r){n.show===t.show&&t.data||(e.show=!!t.data&&("boolean"!=typeof t.show||t.show)),!t.data||n.data===t.data&&n.clampToGround===t.clampToGround&&n.ellipsoid===t.ellipsoid&&n.sourceUri===t.sourceUri||dt({element:e,dataSources:r.dataSourceCollection,data:t.data,onLoad:t.onLoad,clampToGround:t.clampToGround,ellipsoid:t.ellipsoid,sourceUri:t.sourceUri})},unmount:function(e,t){t.dataSourceCollection.remove(e)},cesiumProps:["clustering"],cesiumReadonlyProps:["camera","canvas","ellipsoid"],cesiumEventProps:{changedEvent:"onChange",errorEvent:"onError",loadingEvent:"onLoading",refreshEvent:"onReferesh",unsupportedNodeEvent:"onUnsupportedNode"}}),ht=H({name:"Primitive",create:function(e){return new r.Primitive(e)},mount:function(e,t){t.primitiveCollection.add(e)},unmount:function(e,t){t.primitiveCollection.remove(e),e.isDestroyed||e.destroy()},cesiumProps:["appearance","cull","debugShowBoundingVolume","depthFailAppearance","modelMatrix","shadows","show"],cesiumReadonlyProps:["allowPicking","asynchronous","compressVertices","geometryInstances","interleave","releaseGeometryInstances","vertexCacheOptimize"]}),vt=Qe(ht),yt=H({name:"PointPrimitive",create:function(){return new r.PointPrimitive},mount:function(e,t){t.pointPrimitiveCollection.add(e)},unmount:function(e,t){t.pointPrimitiveCollection.isDestroyed||t.pointPrimitiveCollection.remove(e)},cesiumProps:["color","disableDepthTestDistance","distanceDisplayCondition","id","outlineColor","outlineWidth","pixelSize","position","scaleByDistance","show","translucencyByDistance"],setCesiumPropsAfterCreate:!0}),gt=Qe(yt),St=H({name:"PointPrimitveCollection",create:function(e){return new r.PointPrimitiveCollection(e)},mount:function(e,t){t.primitiveCollection.add(e)},unmount:function(e,t){t.primitiveCollection.isDestroyed||t.primitiveCollection.remove(e),e.isDestroyed||e.destroy()},provide:function(e){return{pointPrimitiveCollection:e}},cesiumProps:["blendOption","debugShowBoundingVolume","modelMatrix"]}),Et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentDidMount=function(){this.setEvent()},t.prototype.componentDidUpdate=function(e){this.context.screenSpaceEventHandler.removeInputAction(e.type,e.modifier),this.setEvent()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.action,n=e.cesium.screenSpaceEventHandler,r=e.modifier,o=e.type;n&&!n.isDestroyed()&&t&&n.removeInputAction(o,r)},t.prototype.render=function(){return null},t.prototype.setEvent=function(){var e=this.props,t=e.action,n=e.cesium.screenSpaceEventHandler,r=e.modifier,o=e.type;t?n.setInputAction(t,o,r):n.removeInputAction(o,r)},t}(t.PureComponent),Ct=U(Et),bt=H({name:"ScreenSpaceEventHandler",create:function(e,t,n){return new r.ScreenSpaceEventHandler(n.scene.canvas)},unmount:function(e){e.isDestroyed()||e.destroy()},provide:function(e){return{screenSpaceEventHandler:e}}}),Pt=H({name:"ScreenSpaceCameraController",create:function(e,t,n){return n.scene.screenSpaceCameraController},cesiumProps:["bounceAnimationTime","enableCollisionDetection","enableInputs","enableLook","enableRotate","enableTilt","enableTranslate","enableZoom","inertiaSpin","inertiaTranslate","inertiaZoom","lookEventTypes","maximumMovementRatio","maximumZoomDistance","minimumCollisionTerrainHeight","minimumPickingTerrainHeight","minimumTrackBallHeight","minimumZoomDistance","rotateEventTypes","tiltEventTypes","translateEventTypes","zoomEventTypes"],setCesiumPropsAfterCreate:!0}),_t=H({name:"ScreenSpaceEventHandler",create:function(e,t,n){return n.cesiumWidget.screenSpaceEventHandler},provide:function(e){return{screenSpaceEventHandler:e}}}),wt=H({name:"ImageryLayer",create:function(e){return new r.ImageryLayer(e.imageryProvider,{rectangle:e.rectangle,alpha:e.alpha,brightness:e.brightness,contrast:e.contrast,hue:e.hue,saturation:e.saturation,gamma:e.gamma,splitDirection:e.splitDirection,minificationFilter:e.minificationFilter,magnificationFilter:e.magnificationFilter,show:e.show,maximumAnisotropy:e.maximumAnisotropy,minimumTerrainLevel:e.minimumTerrainLevel,maximumTerrainLevel:e.maximumTerrainLevel,cutoutRectangle:e.cutoutRectangle})},mount:function(e,t){t.imageryLayerCollection.add(e)},unmount:function(e,t){t.imageryLayerCollection.remove(e)},cesiumProps:["alpha","brightness","contrast","hue","saturation","gamma","splitDirection","minificationFilter","magnificationFilter","cutoutRectangle","show"],cesiumReadonlyProps:["imageryProvider","rectangle","maximumAnisotropy","minimumTerrainLevel","maximumTerrainLevel"]}),Tt=W({name:"CameraFlyHome",cameraOperationStart:function(e,t){e.flyHome(t.duration)}}),Ot=W({name:"CameraFlyTo",cameraOperationStart:function(e,t){var n=t.destination,r=t.orientation,o=t.duration,i=t.onComplete,a=t.onCancel,c=t.endTransform,u=t.maximumHeight,s=t.pitchAdjustHeight,p=t.flyOverLongitude,l=t.flyOverLongitudeWeight,m=t.easingFunction;e.flyTo({destination:n,orientation:r,duration:o,complete:i,cancel:a,endTransform:c,maximumHeight:u,pitchAdjustHeight:s,flyOverLongitude:p,flyOverLongitudeWeight:l,easingFunction:m})}}),kt=W({name:"CameraFlyToBoundingSphere",cameraOperationStart:function(e,t){var n=t.boundingSphere,r=t.offset,o=t.duration,i=t.onComplete,a=t.onCancel,c=t.endTransform,u=t.maximumHeight,s=t.pitchAdjustHeight,p=t.flyOverLongitude,l=t.flyOverLongitudeWeight,m=t.easingFunction;e.flyToBoundingSphere(n,{offset:r,duration:o,complete:i,cancel:a,endTransform:c,maximumHeight:u,pitchAdjustHeight:s,flyOverLongitude:p,flyOverLongitudeWeight:l,easingFunction:m})}});e.createCesiumComponent=H,e.CameraOperation=W,e.createEventWrapper=Qe,e.Viewer=Xe,e.CesiumWidget=Ye,e.Scene=tt,e.Camera=nt,e.Entity=rt,e.EntityDescription=at,e.ExtendedEntity=ct,e.CustomDataSource=ut,e.CzmlDataSource=pt,e.GeoJsonDataSource=mt,e.KmlDataSource=ft,e.Primitive=ht,e.ExtendedPrimitive=vt,e.ExtendedPointPrimitive=gt,e.PointPrimitive=yt,e.PointPrimitiveCollection=St,e.ScreenSpaceEvent=Ct,e.ScreenSpaceEventHandler=bt,e.ScreenSpaceCameraController=Pt,e.DefaultScreenSpaceEventHandler=_t,e.ImageryLayer=wt,e.CameraFlyHome=Tt,e.CameraFlyTo=Ot,e.CameraFlyToBoundingSphere=kt,e.Provider=R,e.Consumer=x,e.withContext=U,e.attachEvents=A,e.detachEvents=F,e.updateEvents=I,e.getEventProps=function(e,t){return e.reduce(function(e,n){var r;return a({},e,((r={})[n]=t["on"+n[0].toUpperCase()+n.slice(1).replace(/Event$/,"")],r))},{})},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=resium.min.js.map
